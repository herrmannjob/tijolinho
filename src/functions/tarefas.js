import { Tarefa } from '@/models'
import Functions from '@/functions/Functions'
// import reforma from './templates/reforma.json';
// import reforma_zero from './templates/reforma_zero.json';
// var _GLOBAL_ID = 1
class TarefaWrapper {
	constructor(nome){
		this.nome = nome
		this.filhos = []
		this.origem = null
		this.STATUS = 0
		this.ID = 0
	}
	addFilho(filho){
		this.filhos.push(filho)
		filho.addOrigem(this)
	}
	addOrigem(origem){
		this.origem = origem
	}
	async sendToAmplify() {
		if (this.origem) {
			if (this.origem.ID == 0){
				this.origem.sendToAmplify()
			}
		}
		const response = await Functions.putData(Tarefa, {
			// "CronogramaObra": /* Provide a CronogramaObra instance here */,
			// "Responsavel": /* Provide a Usuario instance here */,
			// "status": /* Provide a StatusTarefa instance here */,
			"nome_tarefa": this.nome,
			"data_inicio": '2021-02-01',
			"data_fim": '2021-02-01',
			// "TarefaOrigem": /* Provide a Tarefa instance here */
		})
		console.log(response);
		
		// send to amplify
		// console.log(this.nome);
		// this.ID = _GLOBAL_ID++;
		// console.log(this.ID);
	}
	delete() {
		if (this.origem){
			this.filhos.map( key => {
				key.addOrigem(this.origem) | this.origem.addFilho(key)
			})
			this.origem.filhos = this.origem.filhos.filter(key => key.nome.localeCompare(this.nome))
		}
	}
}
function getTemplate(template) {
	var _json;
	if(template == 1){
		//reforma
		_json = `{"OBRA BRUTA": [{"Prote\u00e7\u00e3o pe\u00e7as existentes": [{"Pedido material prote\u00e7\u00e3o": []}, {"Separar itens a serem reaproveitados": []}, {"Prote\u00e7\u00e3o pisos existentes": []}]}, {"Demoli\u00e7\u00e3o": [{"Demoli\u00e7\u00f5es paredes": []}, {"Retirada de portas": []}, {"Retirada de pisos": []}, {"Retirada de bancadas": []}, {"Retirada de lou\u00e7as e metais": []}]}, {"Retirada de entulho": [{"Entrega sacos de entulho": []}, {"Retirada de entulho por carreto ou ca\u00e7amba": []}]}, {"Alvenaria": [{"Pedido material bruto": []}, {"Execu\u00e7\u00e3o paredes de veda\u00e7\u00e3o": []}]}, {"Contra piso": [{"Regulariza\u00e7\u00e3o contrapiso": []}]}, {"Hidr\u00e1ulico e Sanit\u00e1rio": [{"Pedido hidr\u00e1ulico e sanit\u00e1rio": []}, {"Execu\u00e7\u00e3o pontos de \u00e1gua fria": []}, {"Execu\u00e7\u00e3o pontos de \u00e1gua quente": []}, {"Execu\u00e7\u00e3o pontos esgoto": []}, {"Execu\u00e7\u00e3o pontos \u00e1gua pluvial": []}, {"Execu\u00e7\u00e3o pontos de respiro": []}, {"Execu\u00e7\u00e3o pontos aquecimento piscina": []}, {"Execu\u00e7\u00e3o pontos aquecimento solar/fotovoltaico": []}, {"Execu\u00e7\u00e3o pontos de dreno ar condicionado": []}, {"Instala\u00e7\u00e3o de ralos": []}]}, {"El\u00e9trica": [{"Pedido material el\u00e9trico": []}, {"Execu\u00e7\u00e3o de recortes paredes para caixinhas": []}, {"Execu\u00e7\u00e3o infra ilumina\u00e7\u00e3o": []}, {"Execu\u00e7\u00e3o infra tomadas/interruptores": []}, {"Cabeamento": []}]}, {"Rede/L\u00f3gica": [{"Pedido material el\u00e9trico": []}, {"Execu\u00e7\u00e3o de recortes paredes para caixinhas": []}, {"Execu\u00e7\u00e3o infra rede": []}, {"Execu\u00e7\u00e3o infra l\u00f3gica": []}, {"Cabeamento": []}]}, {"G\u00e1s": [{"Pedido tubula\u00e7\u00e3o g\u00e1s": []}, {"Execu\u00e7\u00e3o de recortes paredes para pontos": []}, {"Execu\u00e7\u00e3o infra g\u00e1s": []}, {"Teste de estanqueidade": []}, {"Cabeamento": []}]}, {"Piscina": [{"Contrata\u00e7\u00e3o servi\u00e7o piscina": []}, {"medi\u00e7\u00e3o": []}, {"Pedido material bruto": []}, {"Pedido revestimentos": []}, {"Pedido material hidr\u00e1ulico e el\u00e9trico": []}, {"Execu\u00e7\u00e3o constru\u00e7\u00e3o piscina e testes": []}, {"Execu\u00e7\u00e3o casa de m\u00e1quinas": []}, {"Execu\u00e7\u00e3o revestimentos e bordas": []}]}, {"Ar condicionado - infra": [{"Contrata\u00e7\u00e3o ar condiciondo": []}, {"Ragos para tubula\u00e7\u00e3o de cobre": []}, {"Furo nas vigas": []}, {"Passagem tubula\u00e7\u00e3o": []}]}, {"Automa\u00e7\u00e3o - infra": [{"Pedido automa\u00e7\u00e3o": []}, {"Visita t\u00e9cnica automa\u00e7\u00e3o": []}, {"Infra automa\u00e7\u00e3o": []}, {"Cabeamento automa\u00e7\u00e3o": []}]}, {"Contra marcos": [{"Pedido contra marcos das portas e janelas": []}, {"Execu\u00e7\u00e3o de contra marcos das portas e janelas": []}]}, {"Impermeabiliza\u00e7\u00e3o": [{"Pedido impermeabilizante": []}, {"Impermeabiliza\u00e7\u00e3o \u00e1reas molhadas": []}]}, {"Contrapiso": [{"Pedido material bruto": []}, {"Execu\u00e7\u00e3o contrapiso": []}]}, {"Reboco interno": [{"Pedido material bruto": []}, {"Execu\u00e7\u00e3o rebocos paredes internas": []}]}, {"Reboco Externo": [{"Pedido material bruto": []}, {"Execu\u00e7\u00e3o rebocos paredes externas": []}]}, {"Ilumina\u00e7\u00e3o": [{"Pedido ilumina\u00e7\u00e3o embutidos pe\u00e7as decorativas e fitas led": []}, {"Entrega ilumina\u00e7\u00e3o embutidos para corte no gesso": []}, {"Coifas e churrasqueira": []}]}, {"Pedido dutos das coifas": [{"Gesso": [{"Pedido gesso": []}, {"Vistoria gesso": []}, {"Entrega material gesso": []}, {"Execu\u00e7\u00e3o dos forros": []}, {"Execu\u00e7\u00e3o cortineiros": []}, {"Execu\u00e7\u00e3o recortes ilumina\u00e7\u00e3o": []}]}]}, {"Deck Perme\u00e1vel Suspenso": [{"Contrata\u00e7\u00e3o servi\u00e7o deck": []}, {"Medi\u00e7\u00e3o (prever al\u00e7ap\u00f5es)": []}, {"Execu\u00e7\u00e3o da 'funda\u00e7\u00e3o' deck": []}, {"Execu\u00e7\u00e3o deck suspenso": []}, {"Prote\u00e7\u00e3o do deck": []}]}, {"Pergolado": [{"Contrata\u00e7\u00e3o servi\u00e7o pergolado": []}, {"Medi\u00e7\u00e3o": []}, {"Execu\u00e7\u00e3o pergolado": []}, {"Prote\u00e7\u00e3o do pergolado": []}]}], "FACHADA": [{"Instala\u00e7\u00e3o caixa correio": []}, {"Instala\u00e7\u00e3o lixeira": []}, {"Instala\u00e7\u00e3o hidrometro": []}, {"Instala\u00e7\u00e3o rel\u00f3gio de luz": []}, {"Instala\u00e7\u00e3o rel\u00f3gios de g\u00e1s": []}], "OBRA FINA": [{"Pisos e Revestimentos": [{"Pedido pisos e revestimentos": []}, {"Pedido material bruto (argamassa e rejunte)": []}, {"Execu\u00e7\u00e3o revestimentos": []}, {"Pedido baguetes": []}, {"Instala\u00e7\u00e3o baguetes": []}, {"Execu\u00e7\u00e3o pisos interno e externo ": []}, {"Prote\u00e7\u00e3o pisos internos": []}, {"Piso de madeira": []}]}, {"Pedido piso de madeira": [{"Vistoria piso de madeira inicial": []}, {"Raspagem contra piso": []}, {"Execu\u00e7\u00e3o de impermeabiliza\u00e7\u00e3o": []}, {"Instala\u00e7\u00e3o piso de madeira": []}, {"Raspagem piso de madeira": []}, {"Verniz piso de madeira": []}, {"Prote\u00e7\u00e3o piso de madeira": []}]}, {"Lou\u00e7as e Metais": [{"Pedido lou\u00e7as e metais": []}, {"Entrega cubas/tanque nas marmorarias": []}]}, {"Marcenaria": [{"Pedido marcenaria": []}, {"Defini\u00e7\u00e3o acabamentos marcenaria": []}, {"Execu\u00e7\u00e3o base de alveranria (se necess\u00e1rio)": []}, {"Medi\u00e7\u00e3o \u00e1reas molhadas": []}, {"Entrega \u00e1reas molhadas": []}, {"Medi\u00e7\u00e3o \u00e1rea seca": []}, {"Entrega \u00e1rea seca": []}, {"Retoque e polimento de laca": []}]}, {"Pedras": [{"Pedido pedras granitos": []}, {"Medi\u00e7\u00e3o pedras granitos": []}, {"Instala\u00e7\u00e3o pedras granitos": []}, {"Pedido corian": []}, {"Medi\u00e7\u00e3o corian": []}, {"Instala\u00e7\u00e3o corian": []}, {"Polimento corian": []}]}, {"Lou\u00e7as e Metais ": [{"Instala\u00e7\u00e3o metais/ triturador": []}, {"Instala\u00e7\u00e3o lou\u00e7as": []}, {"Instala\u00e7\u00e3o acess\u00f3rios": []}]}, {"Portas": [{"Pedido portas de correr": []}, {"Pedido portas de abrir": []}, {"Instala\u00e7\u00e3o portas de correr": []}, {"Instala\u00e7\u00e3o portas de abrir": []}]}, {"Esquadrias Guarda-corpos e port\u00e3o": [{"Pedido esquadrias": []}, {"Pedido guarda corpo": []}, {"Instala\u00e7\u00e3o esquadrias": []}, {"Instala\u00e7\u00e3o guarda corpo": []}, {"Prote\u00e7\u00e3o esquadrias e guarda corpo": []}]}, {"Pintura interna e externa": [{"Pedido massa e material de pintura": []}, {"Execu\u00e7\u00e3o da seladora": []}, {"Massa gesso": []}, {"Pintura gesso": []}, {"Massa paredes": []}, {"Pintura paredes": []}, {"Verniz portas": []}, {"Retoques de pintura": []}]}, {"Automa\u00e7\u00e3o - Intala\u00e7\u00e3o": [{"Instala\u00e7\u00e3o caixas de som": []}, {"Instala\u00e7\u00e3o port\u00f5es autom\u00e1ticos e interfone": []}]}, {"Prote\u00e7\u00e3o port\u00f5es": [{"Instala\u00e7\u00e3o equipamentos": []}, {"Instala\u00e7\u00e3o TVs": []}, {"Teste e programa\u00e7\u00e3o": []}]}, {"Ar condicionado - m\u00e1quinas": [{"Pedido de m\u00e1quinas": []}, {"Entrega de m\u00e1quinas": []}, {"Instala\u00e7\u00e3o de m\u00e1quinas internas": []}, {"Instala\u00e7\u00e3o de m\u00e1quinas externas": []}, {"Teste e programa\u00e7\u00e3o": []}]}, {"Vidros e espelhos": [{"Pedido vidros e espelhos": []}, {"Medi\u00e7\u00e3o box e espelhos": []}, {"Instala\u00e7\u00e3o box e espelhos": []}]}, {"Espelhos el\u00e9tricos": [{"Contagem espelhos aparentesXn\u00e3o aparentes": []}, {"Pedido espelhos el\u00e9tricos campainha sensor": []}, {"Instala\u00e7\u00e3o espelhos el\u00e9tricos": []}, {"Finaliza\u00e7\u00e3o espelhos el\u00e9tricos": []}]}, {"Ilumina\u00e7\u00e3o": [{"Entrega ilumina\u00e7\u00e3o ": []}, {"Entrega ilumina\u00e7\u00e3o pe\u00e7as decorativas": []}, {"Entrega fitas led": []}, {"Instala\u00e7\u00e3o ilumina\u00e7\u00e3o geral": []}]}, {"Equipamentos sistema de aquecimento": [{"Pedido aquecedor": []}, {"Pedido bombas": []}, {"Pedido placas solares e boiler": []}, {"Pedido caixa d\u00e1gua": []}, {"Instala\u00e7\u00e3o e teste aquecedor": []}, {"Instala\u00e7\u00e3o e teste bombas": []}, {"boiler e coletores": []}]}, {"Coifas e churrasqueira": [{"Pedido coifas": []}, {"Pedido churrasqueira": []}, {"Instala\u00e7\u00e3o coifas": []}, {"Intala\u00e7\u00e3o churrasqueira": []}]}, {"Rodap\u00e9": [{"Pedido rodap\u00e9s": []}, {"Entrega rodap\u00e9s": []}, {"Instala\u00e7\u00e3o rodap\u00e9s": []}]}], "INTERIORES": [{"Cortinas e persianas": [{"Pedido cortinas e persianas": []}, {"Medi\u00e7\u00e3o cortinas e persianas": []}, {"Entrega cortinas e persianas": []}]}, {"Limpeza": [{"Pedido limpeza": []}, {"Limpeza grossa": []}, {"Limpeza fina": []}]}, {"Varal": [{"Pedido varal": []}, {"Instala\u00e7\u00e3o varal": []}]}, {"Eletrodom\u00e9sticos": [{"Pedido eletrodom\u00e9sticos": []}, {"Entrega eletrodom\u00e9sticos": []}, {"Instala\u00e7\u00e3o eletrodom\u00e9sticos": []}]}, {"Papel de parede": [{"Pedido Papel de parede": []}, {"Instala\u00e7\u00e3o papel de parede": []}]}, {"Colch\u00f5es": [{"Pedido colch\u00f5es": []}, {"Entrega colch\u00f5es": []}]}, {"Roupas de cama": [{"Pedido roupas de cama": []}, {"Entrega roupas de cama": []}]}, {"Mobili\u00e1rio": [{"Pedido mobili\u00e1rio": []}, {"Entrega mobili\u00e1rio": []}]}, {"Paisagismo": [{"Pedido paisagismo": []}, {"Entrega paisagismo": []}, {"Execu\u00e7\u00e3o paisagismo": []}]}, {"Tapetes": [{"Pedido tapetes": []}, {"Entrega tapetes": []}]}, {"Adornos": [{"Pedido adornos": []}, {"Entrega adornos": []}]}], "FINAL DA OBRA": []}`;
	}else{
		//reforma do zero
		_json = `{"SERVI\u00c7OS PRELIMINARES": [{"SONDAGEM": [{"Pedido sondagem": []}, {"Defini\u00e7\u00e3o pontos sondagem": []}, {"Execu\u00e7\u00e3o sondagem": []}, {"Recebimento estudo": []}, {"Pedido de execu\u00e7\u00e3o de projeto complementar": []}]}, {"LOCA\u00c7\u00c3O DA OBRA": [{"Pedido de materiais": []}, {"Instala\u00e7\u00e3o tapume": []}, {"Execu\u00e7\u00e3o de abrigo provis\u00f3rio": []}, {"Instala\u00e7\u00e3o placa no tapume": []}, {"Execu\u00e7\u00e3o do gabarito": []}]}, {"TERRAPLENAGEM ": [{"Contrata\u00e7\u00e3o do servi\u00e7o": []}, {"Execu\u00e7\u00e3o do servi\u00e7o": []}]}], "FUNDA\u00c7\u00c3O E ESTRUTURA": [{"FUNDA\u00c7\u00c3O - ESTACAS": [{"Pedido de arma\u00e7\u00e3o": []}, {"Pedido do concreto": []}, {"Contrata\u00e7\u00e3o maquin\u00e1rio estacas": []}, {"Execu\u00e7\u00e3o das estacas": []}]}, {"FUNDA\u00c7\u00c3O- BALDRAMES E BLOCOS ": [{"Pedido de arma\u00e7\u00e3o": []}, {"Pedido de madeiramento de formas": []}, {"Pedido de material de apoio": []}, {"Pedido e agendamento de concreto": []}, {"Escava\u00e7\u00e3o baldrames blocos e arrasamento de estacas": []}, {"Montagem das formas": []}, {"Montagem das armaduras ": []}, {"Concretagem das blocos e baldrames": []}, {"Pedido impermeabilizante": []}, {"Desforma blocos e baldrames ": []}, {"Impermeabilizacao fundacao ": []}]}, {"PILARES ": [{"Pedido de formas": []}, {"Pedido de arma\u00e7\u00e3o": []}, {"Pedido de concreto": []}, {"Montagem das formas": []}, {"Montagem das armaduras ( o que for necess\u00e1rio)": []}, {"Concretagem dos pilares": []}, {"Desforma pilares ": []}]}, {"VIGAS E LAJES TRELI\u00c7ADAS ": [{"Pedido de formas": []}, {"Pedido de arma\u00e7\u00e3o das vigas": []}, {"Pedido de vigotas treli\u00e7adas e enchimento": []}, {"Pedido de concreto": []}, {"Pedido de material de apoio": []}, {"Pedido de escoramento": []}, {"Montagem das formas": []}, {"Montagem das armaduras ": []}, {"Montagem de vigas (formas escoramento e arma\u00e7\u00e3o)": []}, {"Montagem de lajes (vigotas treli\u00e7adas + escoramento + enchimento EPS)": []}, {"Concretagem das vigas": []}, {"Desforma vigas": []}]}], "COBERTURA": [{"Previs\u00e3o de duto da coifa ilha cozinha": []}, {"Previs\u00e3o passagem dos eletrodutos": []}, {"Pedido de grua e andaimes (se necess\u00e1rio)": []}, {"Pedido met\u00e1lica": []}, {"Pedido madeiras": []}, {"Pedido telhas manta fita e pinos": []}, {"Execu\u00e7\u00e3o do telhado": []}, {"Execu\u00e7\u00e3o calhas e rufos (cobertura e laje)": []}], "OBRA BRUTA": [{"Alvenaria": [{"Pedido material bruto": []}, {"Execu\u00e7\u00e3o paredes de veda\u00e7\u00e3o": []}, {"Muros \u00e1reas externas": []}, {"Fechamento fachada": []}, {"Platibandas cobertura e laje de cobertura": []}]}, {"Hidr\u00e1ulico e Sanit\u00e1rio": [{"Pedido hidr\u00e1ulico e sanit\u00e1rio": []}, {"Execu\u00e7\u00e3o pontos de \u00e1gua fria": []}, {"Execu\u00e7\u00e3o pontos de \u00e1gua quente": []}, {"Execu\u00e7\u00e3o pontos esgoto": []}, {"Execu\u00e7\u00e3o pontos \u00e1gua pluvial": []}, {"Execu\u00e7\u00e3o pontos de respiro": []}, {"Execu\u00e7\u00e3o pontos aquecimento piscina": []}, {"Execu\u00e7\u00e3o pontos aquecimento solar/fotovoltaico": []}, {"Execu\u00e7\u00e3o pontos de dreno ar condicionado": []}, {"Instala\u00e7\u00e3o de ralos ": []}]}, {"El\u00e9trica": [{"Pedido material el\u00e9trico": []}, {"Execu\u00e7\u00e3o de recortes paredes para caixinhas": []}, {"Execu\u00e7\u00e3o infra ilumina\u00e7\u00e3o": []}, {"Execu\u00e7\u00e3o infra tomadas/interruptores": []}, {"Cabeamento": []}]}, {"Rede/L\u00f3gica": [{"Pedido material el\u00e9trico": []}, {"Execu\u00e7\u00e3o de recortes paredes para caixinhas": []}, {"Execu\u00e7\u00e3o infra rede": []}, {"Execu\u00e7\u00e3o infra l\u00f3gica": []}, {"Cabeamento": []}]}, {"G\u00e1s": [{"Pedido tubula\u00e7\u00e3o g\u00e1s": []}, {"Execu\u00e7\u00e3o de recortes paredes para pontos": []}, {"Execu\u00e7\u00e3o infra g\u00e1s": []}, {"Teste de estanqueidade": []}, {"Cabeamento": []}]}, {"Piscina": [{"Contrata\u00e7\u00e3o servi\u00e7o piscina": []}, {"medi\u00e7\u00e3o": []}, {"Pedido material bruto": []}, {"Pedido revestimentos60 dias antes da execu\u00e7\u00e3o dos revestimentos": []}, {"Pedido material hidr\u00e1ulico e el\u00e9trico": []}, {"Execu\u00e7\u00e3o constru\u00e7\u00e3o piscina e testes": []}, {"Execu\u00e7\u00e3o casa de m\u00e1quinas": []}, {"Execu\u00e7\u00e3o revestimentos e bordas": []}]}, {"Ar condicionado - infra": [{"Contrata\u00e7\u00e3o ar condiciondo": []}, {"Ragos para tubula\u00e7\u00e3o de cobre": []}, {"Furo nas vigas": []}, {"Passagem tubula\u00e7\u00e3o": []}]}, {"Automa\u00e7\u00e3o - infra": [{"Pedido automa\u00e7\u00e3o": []}, {"Visita t\u00e9cnica automa\u00e7\u00e3o": []}, {"Infra automa\u00e7\u00e3o": []}, {"Cabeamento automa\u00e7\u00e3o": []}]}, {"Contra marcos": [{"Pedido contra marcos das portas e janelas": []}, {"Execu\u00e7\u00e3o de contra marcos das portas e janelas": []}]}, {"Impermeabiliza\u00e7\u00e3o": [{"Pedido impermeabilizante": []}, {"Impermeabiliza\u00e7\u00e3o \u00e1reas molhadas": []}]}, {"Contrapiso": [{"Pedido material bruto": []}, {"Execu\u00e7\u00e3o contrapiso ": []}]}, {"Reboco interno": [{"Pedido material bruto": []}, {"Execu\u00e7\u00e3o rebocos paredes internas": []}]}, {"Reboco Externo": [{"Pedido material bruto": []}, {"Execu\u00e7\u00e3o rebocos paredes externas": []}]}], "Ilumina\u00e7\u00e3o": [{"Pedido ilumina\u00e7\u00e3o embutidos pe\u00e7as decorativas e fitas led": []}, {"Entrega ilumina\u00e7\u00e3o embutidos para corte no gesso": []}, {"Coifas e churrasqueira": []}], "Pedido dutos das coifas": [{"Gesso": [{"Pedido gesso": []}, {"Vistoria gesso": []}, {"Entrega material gesso": []}, {"Execu\u00e7\u00e3o dos forros": []}, {"Execu\u00e7\u00e3o cortineiros": []}, {"Execu\u00e7\u00e3o recortes ilumina\u00e7\u00e3o": []}]}, {"Deck Perme\u00e1vel Suspenso": [{"Contrata\u00e7\u00e3o servi\u00e7o deck": []}, {"Medi\u00e7\u00e3o (prever al\u00e7ap\u00f5es)": []}, {"Execu\u00e7\u00e3o da 'funda\u00e7\u00e3o' deck": []}, {"Execu\u00e7\u00e3o deck suspenso": []}, {"Prote\u00e7\u00e3o do deck": []}]}, {"Pergolado": [{"Contrata\u00e7\u00e3o servi\u00e7o pergolado": []}, {"Medi\u00e7\u00e3o": []}, {"Execu\u00e7\u00e3o pergolado": []}, {"Prote\u00e7\u00e3o do pergolado": []}]}], "HADA": [], "Instala\u00e7\u00e3o caixa correio": [], "Instala\u00e7\u00e3o lixeira": [], "Instala\u00e7\u00e3o hidrometro": [], "Instala\u00e7\u00e3o rel\u00f3gio de luz": [], "Instala\u00e7\u00e3o rel\u00f3gios de g\u00e1s": [], "A FINA": [], "Pisos e Revestimentos": [{"Pedido pisos e revestimentos": []}, {"Pedido material bruto (argamassa e rejunte)": []}, {"Execu\u00e7\u00e3o revestimentos": []}, {"Pedido baguetes": []}, {"Instala\u00e7\u00e3o baguetes": []}, {"Execu\u00e7\u00e3o pisos interno e externo ": []}, {"Prote\u00e7\u00e3o pisos internos": []}, {"Piso de madeira": []}], "Pedido piso de madeira": [{"Vistoria piso de madeira inicial": []}, {"Raspagem contra piso": []}, {"Execu\u00e7\u00e3o de impermeabiliza\u00e7\u00e3o": []}, {"Instala\u00e7\u00e3o piso de madeira": []}, {"Raspagem piso de madeira": []}, {"Verniz piso de madeira": []}, {"Prote\u00e7\u00e3o piso de madeira": []}], "Lou\u00e7as e Metais": [{"Pedido lou\u00e7as e metais": []}, {"Entrega cubas/tanque nas marmorarias": []}], "Marcenaria": [{"Pedido marcenaria": []}, {"Defini\u00e7\u00e3o acabamentos marcenaria": []}, {"Execu\u00e7\u00e3o base de alveranria (se necess\u00e1rio)": []}, {"Medi\u00e7\u00e3o \u00e1reas molhadas": []}, {"Entrega \u00e1reas molhadas": []}, {"Medi\u00e7\u00e3o \u00e1rea seca": []}, {"Entrega \u00e1rea seca": []}, {"Retoque e polimento de laca": []}], "Pedras": [{"Pedido pedras granitos": []}, {"Medi\u00e7\u00e3o pedras granitos": []}, {"Instala\u00e7\u00e3o pedras granitos": []}, {"Pedido corian": []}, {"Medi\u00e7\u00e3o corian": []}, {"Instala\u00e7\u00e3o corian": []}, {"Polimento corian": []}], "Lou\u00e7as e Metais ": [{"Instala\u00e7\u00e3o metais/ triturador": []}, {"Instala\u00e7\u00e3o lou\u00e7as": []}, {"Instala\u00e7\u00e3o acess\u00f3rios": []}], "Portas": [{"Pedido portas de correr": []}, {"Pedido portas de abrir": []}, {"Instala\u00e7\u00e3o portas de correr": []}, {"Instala\u00e7\u00e3o portas de abrir": []}], "Esquadrias Guarda-corpos e port\u00e3o": [{"Pedido esquadrias": []}, {"Pedido guarda corpo": []}, {"Instala\u00e7\u00e3o esquadrias": []}, {"Instala\u00e7\u00e3o guarda corpo": []}, {"Prote\u00e7\u00e3o esquadrias e guarda corpo": []}], "Pintura interna e externa": [{"Pedido massa e material de pintura": []}, {"Execu\u00e7\u00e3o da seladora": []}, {"Massa gesso": []}, {"Pintura gesso": []}, {"Massa paredes": []}, {"Pintura paredes": []}, {"Verniz portas": []}, {"Retoques de pintura": []}], "Automa\u00e7\u00e3o - Intala\u00e7\u00e3o": [{"Instala\u00e7\u00e3o caixas de som": []}, {"Instala\u00e7\u00e3o port\u00f5es autom\u00e1ticos e interfone": []}], "Prote\u00e7\u00e3o port\u00f5es": [{"Instala\u00e7\u00e3o equipamentos": []}, {"Instala\u00e7\u00e3o TVs": []}, {"Teste e programa\u00e7\u00e3o": []}], "Ar condicionado - m\u00e1quinas": [{"Pedido de m\u00e1quinas": []}, {"Entrega de m\u00e1quinas": []}, {"Instala\u00e7\u00e3o de m\u00e1quinas internas": []}, {"Instala\u00e7\u00e3o de m\u00e1quinas externas": []}, {"Teste e programa\u00e7\u00e3o": []}], "Vidros e espelhos": [{"Pedido vidros e espelhos": []}, {"Medi\u00e7\u00e3o box e espelhos": []}, {"Instala\u00e7\u00e3o box e espelhos": []}], "Espelhos el\u00e9tricos": [{"Contagem espelhos aparentesXn\u00e3o aparentes": []}, {"Pedido espelhos el\u00e9tricos campainha sensor": []}, {"Instala\u00e7\u00e3o espelhos el\u00e9tricos": []}, {"Finaliza\u00e7\u00e3o espelhos el\u00e9tricos": []}], "Iluma\u00e7\u00e3o": [{"Entrega ilumina\u00e7\u00e3o ": []}, {"Entrega ilumina\u00e7\u00e3o pe\u00e7as decorativas": []}, {"Entrega fitas led": []}, {"Instala\u00e7\u00e3o ilumina\u00e7\u00e3o geral": []}], "Equipamentos sistema de aquecimento": [{"Pedido aquecedor": []}, {"Pedido bombas": []}, {"Pedido placas solares e boiler": []}, {"Pedido caixa d\u00e1gua": []}, {"Instala\u00e7\u00e3o e teste aquecedor": []}, {"Instala\u00e7\u00e3o e teste bombas": []}, {"boiler e coletores": []}], "Coifas e churrasqueira": [{"Pedido coifas": []}, {"Pedido churrasqueira": []}, {"Instala\u00e7\u00e3o coifas": []}, {"Intala\u00e7\u00e3o churrasqueira": []}], "Rodap\u00e9": [{"Pedido rodap\u00e9s": []}, {"Entrega rodap\u00e9s": []}, {"Instala\u00e7\u00e3o rodap\u00e9s": []}], "ERIORES": [], "Cortinas e persianas": [{"Pedido cortinas e persianas": []}, {"Medi\u00e7\u00e3o cortinas e persianas": []}, {"Entrega cortinas e persianas": []}], "Limpeza": [{"Pedido limpeza": []}, {"Limpeza grossa": []}, {"Limpeza fina": []}], "Varal": [{"Pedido varal": []}, {"Instala\u00e7\u00e3o varal": []}], "Eletrodom\u00e9sticos": [{"Pedido eletrodom\u00e9sticos": []}, {"Entrega eletrodom\u00e9sticos": []}, {"Instala\u00e7\u00e3o eletrodom\u00e9sticos": []}], "Papel de parede": [{"Pedido Papel de parede": []}, {"Instala\u00e7\u00e3o papel de parede": []}], "Colch\u00f5es": [{"Pedido colch\u00f5es": []}, {"Entrega colch\u00f5es": []}], "Roupas de cama": [{"Pedido roupas de cama": []}, {"Entrega roupas de cama": []}], "Mobili\u00e1rio": [{"Pedido mobili\u00e1rio": []}, {"Entrega mobili\u00e1rio": []}], "Paisagismo": [{"Pedido paisagismo": []}, {"Entrega paisagismo": []}, {"Execu\u00e7\u00e3o paisagismo": []}], "Tapetes": [{"Pedido tapetes": []}, {"Entrega tapetes": []}], "Adornos": [{"Pedido adornos": []}, {"Entrega adornos": []}], "FINAL DA OBRA": []}`;
	}
	return _json
}
const Tarefas = {
	addChildren (key, mapTarefas, prefix) {
		var father = key[0]
		var children = key[1]
		var father_prefix = String(prefix + '.' + father)
		mapTarefas.set(father_prefix, new TarefaWrapper(father))
		console.log("estou procurando pelo "+prefix)
		if (mapTarefas.get(prefix) != undefined){
			console.log("colocando", father_prefix, "no", father_prefix)
			mapTarefas.get(prefix)
				.addFilho(mapTarefas.get(father_prefix))
		}
		mapTarefas.get(father_prefix)
			.addOrigem(mapTarefas.get(prefix))
		children.map(key => {
			Tarefas.addChildren(Object.entries(key)[0]
				, mapTarefas, father_prefix)
		})
	},

	serializeToMap (mapJson, mapTarefas) {
		Object.entries(mapJson).map(key => {
			Tarefas.addChildren(key, mapTarefas, '')
		})
	},

	serializeJson(jsonFile) {
		var mapJson = JSON.parse(jsonFile)
		var mapTarefas = new Map()
		Tarefas.serializeToMap(mapJson, mapTarefas)
		return mapTarefas
	},

	deleteFromMapTarefas(mapTarefas, key){
		var element = mapTarefas.get(key)
		if (element){
			element.delete()
			mapTarefas.delete(key)
		}
	},

	async cadastra(){
		var mapTarefas = Tarefas.serializeJson(getTemplate(1))
		mapTarefas.forEach(key => {
			key.sendToAmplify()
		});
		console.log(mapTarefas);
	}
};
export default Tarefas